<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Git Branching # This section builds on the previous Git Fundamentals section.
If you have not done that section you should still be able to do all the excercies here since each one starts with a script to get you to a known starting state.
Back Next Tip: Preventing Data Loss # A vast majority of git commands are non-destructive. Most things you do can be undone. But when dealing with complex branch operations or other unfamiliar commands you may want to take extra precautions to prevent data loss"><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Git Branching"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="/docs/workshop/branching/"><title>Git Branching | Guts of Git</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.7c6380fd01e728e94f281a8906785c4d072a6671885780a78ca39efe3c8ee6dd.css><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.78166b9d46e23e0ea915cb6887a30b633e7bc4fad10c8b6b9f6fa532271c19ba.js></script>
<link rel=alternate type=application/rss+xml href=/docs/workshop/branching/index.xml title="Guts of Git"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Guts of Git</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/docs/workshop/>Workshop</a><ul><li><a href=/docs/workshop/preamble/>Preamble</a></li><li><a href=/docs/workshop/fundamentals/>Git Fundamentals</a></li><li><input type=checkbox id=section-71509f844a91bb933c38e0973a47eee8 class=toggle checked>
<label for=section-71509f844a91bb933c38e0973a47eee8 class="flex justify-between"><a href=/docs/workshop/branching/ class=active>Git Branching</a></label><ul><li><a href=/docs/workshop/branching/understanding-remotes/>Understanding Remotes</a></li><li><a href=/docs/workshop/branching/update-with-merge/>Update With Merge</a></li><li><a href=/docs/workshop/branching/update-with-rebase/>Update With Rebase</a></li></ul></li></ul></li><li><a href=/docs/tips/>Bonus Git Tips</a><ul></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Git Branching</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#tip-preventing-data-loss>Tip: Preventing Data Loss</a></li><li><a href=#tip-kinds-of-git-diagrams>Tip: Kinds of Git Diagrams</a><ul><li><a href=#traditional-diagrams>Traditional Diagrams</a></li><li><a href=#stack-diagrams>Stack Diagrams</a></li></ul></li><li><a href=#wrapping-up>Wrapping Up</a></li></ul></nav></aside></header><article class=markdown><h1 id=git-branching>Git Branching
<a class=anchor href=#git-branching>#</a></h1><p>This section builds on the previous <a href=/docs/workshop/fundamentals/>Git Fundamentals</a> section.</p><p>If you have not done that section you should still be able to do all the excercies here since
each one starts with a script to get you to a known starting state.</p><a rel=noopener class="book-btn prevSegment">Back</a>
<a rel=noopener class="book-btn nextSegment" style=position:absolute;right:0>Next</a><div class=pagebreak></div><h2 id=tip-preventing-data-loss>Tip: Preventing Data Loss
<a class=anchor href=#tip-preventing-data-loss>#</a></h2><p>A vast majority of git commands are non-destructive. Most things you do can be undone. But
when dealing with complex branch operations or other unfamiliar commands you may want to
take extra precautions to prevent data loss</p><p>With that in mind, below you will find my #1 tip for protecting yourself when you
are doing things that are scary in git:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp -rp ./my-repo ./my-repo.bak
</span></span></code></pre></div><p>Ok, so it&rsquo;s just a copy. Not very fancy or effecient but it works. As you become more familiar with git you might not do this as often. But when in doubt, take a few seconds nad make a backup. Then no matter what you do you can recover.</p><a rel=noopener class="book-btn prevSegment">Back</a>
<a rel=noopener class="book-btn nextSegment" style=position:absolute;right:0>Next</a><div class=pagebreak></div><h2 id=tip-kinds-of-git-diagrams>Tip: Kinds of Git Diagrams
<a class=anchor href=#tip-kinds-of-git-diagrams>#</a></h2><p>So far we have seen and used 2 kinds of git diagrams. But the exercises in this
section are going to use a 3rd.</p><h3 id=traditional-diagrams>Traditional Diagrams
<a class=anchor href=#traditional-diagrams>#</a></h3><p>The fundamentals section ended with a repo that looks something like this:</p><script src=/mermaid.min.js></script>
<script>mermaid.initialize({flowchart:{useMaxWidth:!0},theme:"default"})</script><p class=mermaid>%%{init: { 'theme': 'neutral' } }%%
gitGraph
commit id: "Initial add" tag: "v0.0.1"
commit id: "feat: add api"
branch topic
commit id: "feat: add users"
checkout main
commit id: "feat: add docs"</p><p>These diagrams are great! And they are really the only accurate way to represent
the data as it exists in git.</p><p>In fact, you will find a lot of these in the git book. Here is another example from the git book:</p><figure><img src=basic-merging-2.png><figcaption><p><a href=https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging>https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging</a></p></figcaption></figure><p>We could make this same graph using our mermaid gitGraph</p><p class=mermaid>%%{init: { 'theme': 'neutral', 'gitGraph': {'showBranches': true, 'showCommitLabel':true,'mainBranchName': 'master'} } }%%
gitGraph
commit id: "C0"
commit id: "C1"
commit id: "C2"
branch iss53
commit id: "C3"
checkout master
commit id: "C4"
checkout iss53
commit id: "C5"
checkout master
merge iss53 id: "C6"</p><p>But I think we can do a bit better when it comes to visualizing the state you need to understand when dealing with some git branching workflows. So we are going to introduce&mldr;</p><a rel=noopener class="book-btn prevSegment">Back</a>
<a rel=noopener class="book-btn nextSegment" style=position:absolute;right:0>Next</a><div class=pagebreak></div><h3 id=stack-diagrams>Stack Diagrams
<a class=anchor href=#stack-diagrams>#</a></h3><p>As we work through the branching section of the workshop we are going to
visualize our operations using a more simplified version of these diagrams.</p><p>Essentially git branches will simply be represented as stacks of commits. You can see that this is just a slightly different way to describe the same data as before:</p><div class="book-columns flex flex-wrap"><div class="flex-even markdown-inner"><figure><img src=stack-diagrams/s1.png></figure></div><div class="flex-even markdown-inner"><figure><img src=basic-merging-2.png><figcaption><p><a href=https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging><sub><sub>Source: Pro Git</sub></sub></a></p></figcaption></figure></div></div><blockquote class="book-hint danger"><p><strong>Stack Diagrams Cannot Always Accurate Express Git State</strong></p><p>We will be using them here because</p><ul><li>They make visualizing certain processes easier</li><li>They more closely match what you see in <code>git log</code> or during an interactive rebase</li></ul><p><strong>BUT</strong> data is lost in some cases. If you look at the comparison above, you will see that
they you lose some data on merge. Stack diagrams, like <code>git log</code> have to decide how to sort commits across trees and there is no exact answer. But they are a useful tool for understanding
some of the concepts we will cover here.</p></blockquote><h2 id=wrapping-up>Wrapping Up
<a class=anchor href=#wrapping-up>#</a></h2><p>This section covered just a few of the basic concepts like</p><ul><li>git remotes</li><li>multiple branches</li><li>stack diagrams</li></ul><p>Next we will build on this to help you understand how to keep branches
up to date and get branch changes back to the <code>main</code> branch</p><a rel=noopener class="book-btn prevSegment">Start Exercise</a>
<a href=./update-with-merge class=book-btn style=position:absolute;right:0>Start Exercise</a><div class=pagebreak></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#tip-preventing-data-loss>Tip: Preventing Data Loss</a></li><li><a href=#tip-kinds-of-git-diagrams>Tip: Kinds of Git Diagrams</a><ul><li><a href=#traditional-diagrams>Traditional Diagrams</a></li><li><a href=#stack-diagrams>Stack Diagrams</a></li></ul></li><li><a href=#wrapping-up>Wrapping Up</a></li></ul></nav></div></aside></main><script>for(var j,code=document.querySelectorAll("code.language-bash"),parent,style,children,childStyle,nextSegment,prevSegment,i=0;i<code.length;i++)parent=code[i].parentElement,style=parent.getAttribute("style"),style==null&&(style=""),parent.setAttribute("style",style+";font-size: large;border: 1px solid #404239; filter: drop-shadow(0 0 0.5rem #404239);");code=document.querySelectorAll("code.language-txt");for(i=0;i<code.length;i++){parent=code[i].parentElement,style=parent.getAttribute("style"),style==null&&(style=""),parent.setAttribute("style",style+";background-color: #f5f5f5; color: #333"),children=code[i].querySelectorAll("[style]");for(j=0;j<children.length;j++)childStyle=children[j].getAttribute("style"),childStyle.indexOf("background-color")>-1&&(console.log("found background-color"),childStyle=childStyle+";background-color: #ddd; color: #333",children[j].setAttribute("style",childStyle))}nextSegment=document.getElementsByClassName("nextSegment");for(i=0;i<nextSegment.length;i++)nextSegment[i].addEventListener("click",function(){console.log("clicked");for(var e,t=this.nextElementSibling;t;){if(console.log(t),t.classList.contains("pagebreak"))for(e=t.nextElementSibling;e;){if(e.tagName=="H1"||e.tagName=="H2"||e.tagName=="H3"||e.tagName=="H4"||e.tagName=="H5"||e.tagName=="H6"){e.scrollIntoView(),window.location.hash=e.id;return}e=e.nextElementSibling}t=t.nextElementSibling}});prevSegment=document.getElementsByClassName("prevSegment");for(i=0;i<prevSegment.length;i++)prevSegment[i].addEventListener("click",function(){console.log("clicked");for(var e,t=this.previousElementSibling;t;){if(console.log(t),t.classList.contains("pagebreak"))for(e=t.previousElementSibling;e;){if(e.tagName=="H1"||e.tagName=="H2"||e.tagName=="H3"||e.tagName=="H4"||e.tagName=="H5"||e.tagName=="H6"){e.scrollIntoView(),window.location.hash=e.id;return}e=e.previousElementSibling}t=t.previousElementSibling}})</script></body></html>